var checkCrossDomainSession=function checkCrossDomainSession(b,f,e,h,g,a){console.log("ssoCrossDomainUrl = "+b);console.log("ssoChannel = "+f);console.log("showLoginPopupOnlyForNewUser = "+e);console.log("targetUrl = "+h);console.log("callback = "+g);console.log("actionCallback = "+a);var d=b+"/getTicket?callback=?";console.log("crossDomainGetTicketURL = "+d);try{$.getJSON(d,null,function(i){if(i.status=="true"&&i.ticketId!=""){if(typeof g==="function"){g(f,i.ticketId,false,h,a)}else{return i.ticketId
}}else{console.log("NO SSO Ticket ID");if(e){if(h){window.location.href=ssoLogin+"?channel="+f+"&ru="+encodeURIComponent(h)}else{window.location.href=baseURL}}}})}catch(c){console.log("getTicket Failed")}};var isLoggedIn=function isLoggedIn(){};var isBWUserUsingSSOId=function isBWUserUsingSSOId(c,b,a,e,d){$.ajax({type:"GET",url:baseURL+"pr/isRegisteredUser",data:{ticketId:b,channel:c},dataType:"json",success:function(g){if(g.status===404){console.log("No BW registered user | Failure in retrieving records")
}else{if(g.status===200){$('[data-plugin="user-notloggedin"]').css("display","none");$('[data-plugin="user-isloggedin"]').css("display","inline-block");$('[data-plugin="user-name"]').text(firstName);console.log("BW registered user");if(a){if(g.bwuser){window.location.href=baseURL+"signin"}else{if(typeof d==="function"){d(g)}}}else{if(typeof d==="function"){if(e){var f;if(!g.bwuser){var f=baseURL}else{f=e}$('[data-plugin="user-notloggedin"]').css("display","none");$('[data-plugin="user-isloggedin"]').css("display","inline-block");
$('[data-plugin="user-name"]').text(firstName)}d(g,f)}}}}},error:function(){console.log("Brand Story ID Registered user call failure")}})};var checkSessionAndSignIn=function checkSessionAndSignIn(c){try{console.log("ssoCrossDomainUrl = "+ssoCrossDomainUrl);console.log("ssoChannel = "+ssoChannel);checkCrossDomainSession(ssoCrossDomainUrl,ssoChannel,true,c,isBWUserUsingSSOId,showSSOPopUp)}catch(b){var a="https://jsso.indiatimes.com/sso/identity/login?channel=businessinsider&ru="+encodeURIComponent(window.location.href);
window.location.href=a}};